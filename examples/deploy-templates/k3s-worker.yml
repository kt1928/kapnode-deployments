---
# Standard K3s Worker Node Deployment Template
#
# This template creates a typical K3s worker node with Longhorn storage support
# for the distributed Kubernetes cluster.
#
# Usage:
#   - Copy this template
#   - Modify the parameters below
#   - Use with TUI or deployment script

deployment:
  type: k3s-worker
  description: "Standard K3s worker node with Longhorn storage"

# VM Configuration
vm:
  hostname: kapnode6
  vmid: 206
  location: brooklyn  # brooklyn, manhattan, staten_island, forest_hills

# Network Configuration
network:
  ip: 192.168.86.206
  gateway: 192.168.86.1
  dns:
    - 192.168.86.1
    - 8.8.8.8
  netmask: 24

# Resource Allocation
resources:
  cores: 4
  memory_gb: 16
  disk_gb: 200
  storage_pool: local-lvm

# Storage Configuration
storage:
  longhorn:
    enabled: true
    size_gb: 2048
    mount_path: /mnt/longhorn
  backup:
    enabled: false
    size_gb: 0

# K3s Configuration
k3s:
  master_url: https://minikapserver:6443
  token: ""  # Fill in K3s join token
  version: latest
  labels:
    - location=brooklyn
    - node-type=worker
    - storage=longhorn
  taints: []
  extra_args:
    - "--kubelet-arg=max-pods=200"

# Tailscale Configuration
tailscale:
  auth_key: ""  # Fill in Tailscale auth key
  accept_routes: true
  advertise_exit_node: false
  hostname: kapnode6

# SSH Configuration
ssh:
  user: ubuntu
  public_key_path: ~/.ssh/homelab_rsa.pub
  authorized_keys:
    - ""  # Add additional keys if needed

# Post-Deployment Tasks
post_deployment:
  update_packages: true
  install_monitoring: true
  join_cluster: true
  verify_tailscale: true
  configure_firewall: false

# Tags and Metadata
metadata:
  deployed_by: tui
  environment: production
  purpose: k3s-worker
  notes: "Standard worker node with Longhorn storage for distributed PVs"
